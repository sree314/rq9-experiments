#!/usr/bin/env python3

import struct
import argparse

def read_float_file(f, n = 2):
    with open(f, 'rb') as ff:
        data = ff.read()
        assert len(data) == n * 4, len(data)

        u = struct.unpack('ff', data)
        return u

if __name__ == "__main__":
    p = argparse.ArgumentParser(description="Dump binary files generated by custom mutators")

    p.add_argument("input", nargs="+")
    p.add_argument("nargs", nargs="?", type=int, default=2)

    args = p.parse_args()

    for x in args.input:
        f = read_float_file(x)
        for i in range(0, len(f), args.nargs):
            print(" ".join([ff.hex() for ff in f[i:i+args.nargs]]))

